var Primes=function(){function r(){f=[2,3],o=3,u=3}function t(r){if(o>=r)return e(r);var t=Math.sqrt(r);return i(t),!n(r)}function e(r){for(var t=0,e=f.length;e>t;++t){var n=f[t];if(n==r)return!0;if(n>r)break}return!1}function n(r,t){t=t||Math.sqrt(r);for(var e=0,n=f.length;n>e;++e){var i=f[e];if(r%i==0)return!0;if(i>t)break}return!1}function i(r){if(r>o){var t=Date.now();for(r=Math.ceil(r);r>o;)o+=2,n(o)||(f.push(o),u=o);var e=Date.now()-t;console.log("calculated primes to "+r+": "+f.length+" primes ("+e+"ms)")}}function a(r){if(i(r),u>r)for(var t=0,e=f.length;e>t;++t){var n=f[t];if(n>r)return f.slice(0,t)}return f.slice(0,f.length)}var f,o,u;return r(),{reset:r,isPrime:t,getPrimesTo:a}}();